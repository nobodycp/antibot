<div id="ip-info-wrapper"
     hx-get="{% url 'tracker:ip_info_partial' %}"
     hx-trigger="every 30s"
     hx-target="#ip-info-wrapper"
     hx-swap="outerHTML">

<div id="htmx-messages" class="min-h-[32px]">
  {% include "partials/messages.html" %}
</div>

  <div class="rounded overflow-hidden border border-zinc-700">
    <table class="w-full bg-zinc-800 text-xs">
      <thead class="bg-zinc-700 text-left text-zinc-300 uppercase tracking-wide">
        <tr>
          <th class="px-3 py-2">Time</th>
          <th class="px-3 py-2">IP</th>
          <th class="px-3 py-2">ISP</th>
          <th class="px-3 py-2">Subnet</th>
          <th class="px-3 py-2">AS Type</th>
          <th class="px-3 py-2">Anonymous</th>
          <th class="px-3 py-2">Proxy</th>
          <th class="px-3 py-2">Hosting</th>
          <th class="px-3 py-2">Tor</th>
          <th class="px-3 py-2">VPN</th>
          <th class="px-3 py-2">Satellite</th>
          <th class="px-3 py-2 text-right">Delete</th>
        </tr>
      </thead>

      {% include "partials/ip_info_table.html" %}
    </table>
  </div>

  {% if page_obj.has_other_pages %}
  <div class="mt-4 flex gap-2 text-xs">
    {% if page_obj.has_previous %}
      <a href="{% url 'tracker:ip_info_partial' %}?page={{ page_obj.previous_page_number }}"
         hx-get="{% url 'tracker:ip_info_partial' %}?page={{ page_obj.previous_page_number }}"
         hx-target="#ip-info-wrapper" hx-swap="outerHTML"
         class="text-blue-400 hover:underline">← Prev</a>
    {% endif %}
    <span class="text-zinc-400">Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>
    {% if page_obj.has_next %}
      <a href="{% url 'tracker:ip_info_partial' %}?page={{ page_obj.next_page_number }}"
         hx-get="{% url 'tracker:ip_info_partial' %}?page={{ page_obj.next_page_number }}"
         hx-target="#ip-info-wrapper" hx-swap="outerHTML"
         class="text-blue-400 hover:underline">Next →</a>
    {% endif %}
  </div>
  {% endif %}
</div>
